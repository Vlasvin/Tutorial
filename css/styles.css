$gray: #1d1e22;
$p1: 'https://images.unsplash.com/photo-1503035066475-78a1df4549ce?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjE0NTg5fQ';
$p2: 'https://images.unsplash.com/photo-1546366809-f49cbeb598b9?ixlib=rb-1.2.1&q=80&fm=jpg&crop=entropy&cs=tinysrgb&w=400&fit=max&ixid=eyJhcHBfaWQiOjE0NTg5fQ';
$cW: 400px;
$cH: 300px;

* {
  margin: 0;
  padding: 0;
}

@mixin flex($align-items: center, $justify-content: center) {
  display: flex;
  align-items: $align-items;
  justify-content: $justify-content;
}

body {
  width: 100vw;
  height: 100vh;
  background-color: $gray;
  @include flex();
}

.card-wrapper {
  position: relative;
  width: $cW;
  height: $cH;
  box-shadow: 0px 30px 40px -25px rgba(0, 0, 0, 0.5);
  &:hover {
    .card-top {
      .side {
        transform: rotateX(0deg);
      }
    }
    .card-main {
      .side2 {
        transform: translateY($cH/2) rotateX(90deg);
      }
      .side1 {
        transform: translateY(-$cH/2) rotateX(90deg);
      }
    }
  }
}

.card {
  position: absolute;
  top: 0;
  left: 0;
  width: $cW;
  height: $cH;
  transition: 0.5s linear all;
  @include flex();
  font-size: 50px;
  background-size: $cW $cH;
  .side {
    width: $cW / 2;
    height: $cH;
    background-size: cover;
    background-size: $cW $cH;
    transition: 0.5s linear transform;
    transition: 0.6s cubic-bezier(0.35, 0.52, 0.51, 0.86) transform;
  }
  .side1 {
    background-position: 0% 0%;
  }
  .side2 {
    background-position: 100% 0;
  }
  &.card-main {
    transform-origin: bottom;
    .side {
      background-image: url(#{$p1});
    }
  }
  &.card-top {
    transform-origin: bottom;
    z-index: 2;
    .side1 {
      transform: translateY($cH/2) rotateX(90deg);
    }
    .side2 {
      transform: translateY(-$cH/2) rotateX(90deg);
    }
    .side {
      background-image: url(#{$p2});
    }
  }
}
